(function(){var a=function(a,b){return function(){return a.apply(b,arguments)}};this.Mercury.Toolbar.ButtonGroup=function(){function b(a,b){return this.name=a,this.options=b!=null?b:{},this.build(),this.bindEvents(),this.regions=this.options._regions,this.element}return b.prototype.build=function(){this.element=jQuery("<div>",{"class":"mercury-button-group mercury-"+this.name+"-group"});if(this.options._context||this.options._regions)return this.element.addClass("disabled")},b.prototype.bindEvents=function(){return Mercury.bind("region:update",a(function(a,b){var c,d;c=Mercury.Toolbar.ButtonGroup.contexts[this.name];if(c&&b.region&&jQuery.type(b.region.currentElement)==="function")return d=b.region.currentElement(),d.length&&c.call(this,d,b.region.element)?this.element.removeClass("disabled"):this.element.addClass("disabled")},this)),Mercury.bind("region:focused",a(function(a,b){if(this.regions&&b.region&&b.region.type){if(!(this.regions.indexOf(b.region.type)>-1))return this.element.addClass("disabled");if(!this.options._context)return this.element.removeClass("disabled")}},this)),Mercury.bind("region:blurred",a(function(a,b){if(this.options.regions)return this.element.addClass("disabled")},this))},b}(),this.Mercury.Toolbar.ButtonGroup.contexts={table:function(a,b){return!!a.closest("table",b).length}}}).call(this)